{if vendor_details}
    {vendor_details}
{else}
    <div class="alert alert-danger">
        Es sind noch keine Suchfelder definiert.
    </div>
{endif}

<script type="text/javascript">
    function validateInputLive(input) {}
    function validateInput(input) {}

    jQuery(function() {
        reloadVendorSearchWordList = function(el, l) {
            jQuery.ajax({
                url: ebiz_trader_baseurl + 'my-pages/my-vendor-searchword.htm',
                data: { DO: 'GET', LANG: l },
                type: 'POST',
                success: function(result) {
                    jQuery(el).html(result);
                }
            })
        }

        jQuery(".deleteVendorSearchWord").on('click', function() {
            var word = jQuery(this).text();
            var lang = jQuery(this).parent().parent().find("input[name=LANG]").val();

            if(confirm("Do you really want to delete the keyword "+word+"?")) {
                jQuery.ajax({
                    url: ebiz_trader_baseurl + 'my-pages/my-vendor-searchword.htm',
                    data: { DO: 'DELETE', SEARCHWORD: word, LANG: lang },
                    dataType: 'json',
                    type: 'POST',
                    success: function(result) {
                        reloadVendorSearchWordList('#vendorSearchList' + lang, lang);
                    }
                })
            }

            return false;
        })

        jQuery(".vendorSearchWordFormular").submit(function() {
            var formular = this;
            jQuery.ajax({
                url: ebiz_trader_baseurl + 'my-pages/my-vendor-searchword.htm',
                data: jQuery(this).serialize(),
                dataType: 'json',
                type: 'POST',
                success: function(result) {
                    jQuery(formular).find("input[name=SEARCHWORD]").val('');
                    reloadVendorSearchWordList('#' + jQuery(formular).attr('id') + ' .vendorSearchList', jQuery(formular).find("input[name=LANG]").val());
                }
            })

            return false;
        })
    })
</script>
